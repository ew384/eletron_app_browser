{
  "name": "electron-browser-manager",
  "version": "1.0.0",
  "description": "æç®€å¤šæµè§ˆå™¨å®ä¾‹ç®¡ç†åº”ç”¨",
  "main": "dist/main/index.js",
  "scripts": {
    "dev": "concurrently \"npm run dev:main\" \"npm run dev:renderer\"",
    "dev:main": "tsc -p tsconfig.main.json && electron dist/main/index.js --inspect=5858",
    "dev:renderer": "vite",
    "build": "npm run build:main && npm run build:renderer",
    "build:main": "tsc -p tsconfig.main.json",
    "build:renderer": "vite build",
    "package": "npm run build && electron-builder",
    "package:win": "npm run build && electron-builder --win",
    "package:mac": "npm run build && electron-builder --mac",
    "package:linux": "npm run build && electron-builder --linux"
  },
  "devDependencies": {
    "@types/node": "^20.0.0",
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@typescript-eslint/parser": "^6.0.0",
    "@vitejs/plugin-react": "^4.0.0",
    "autoprefixer": "^10.4.0",
    "concurrently": "^8.0.0",
    "electron": "^27.0.0",
    "electron-builder": "^24.0.0",
    "eslint": "^8.0.0",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-react-refresh": "^0.4.0",
    "postcss": "^8.4.0",
    "tailwindcss": "^3.3.0",
    "typescript": "^5.0.0",
    "vite": "^4.4.0"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "zustand": "^4.4.0"
  },
  "build": {
    "appId": "com.example.browser-manager",
    "productName": "Browser Manager",
    "directories": {
      "output": "release"
    },
    "files": [
      "dist/**/*",
      "node_modules/**/*"
    ],
    "mac": {
      "category": "public.app-category.productivity"
    },
    "win": {
      "target": "nsis"
    },
    "linux": {
      "target": "AppImage"
    }
  }
}

---FILE_SEPARATOR---
// tsconfig.json
{
  "compilerOptions": {
    "target": "ES2020",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"],
      "@shared/*": ["src/shared/*"]
    }
  },
  "include": ["src/renderer/**/*", "src/shared/**/*", "src/preload/**/*"],
  "references": [{ "path": "./tsconfig.node.json" }]
}

---FILE_SEPARATOR---
// tsconfig.main.json
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "target": "ES2020",
    "module": "CommonJS",
    "noEmit": false,
    "outDir": "dist",
    "lib": ["ES2020"]
  },
  "include": ["src/main/**/*", "src/shared/**/*", "src/preload/**/*"],
  "exclude": ["src/renderer/**/*"]
}

---FILE_SEPARATOR---
// tsconfig.node.json
{
  "compilerOptions": {
    "composite": true,
    "skipLibCheck": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "allowSyntheticDefaultImports": true
  },
  "include": ["vite.config.ts"]
}

---FILE_SEPARATOR---
// vite.config.ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  root: './src/renderer',
  base: './',
  build: {
    outDir: path.resolve(__dirname, 'dist/renderer'),
    emptyOutDir: true
  },
  resolve: {
    alias: {
      '@': path.resolve(__dirname, 'src'),
      '@shared': path.resolve(__dirname, 'src/shared')
    }
  },
  server: {
    port: 3000
  }
});

---FILE_SEPARATOR---
// tailwind.config.js
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./src/renderer/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}

---FILE_SEPARATOR---
// src/shared/types.ts
/**
 * æ ¸å¿ƒç±»å‹å®šä¹‰ - ç®€æ´è®¾è®¡ï¼Œé¢„ç•™æ‰©å±•æ¥å£
 */

export interface BrowserAccount {
  id: string;
  name: string;
  status: 'idle' | 'running' | 'error';
  createdAt: number;
  updatedAt?: number;
}

export interface BrowserInstance {
  accountId: string;
  windowId: number;
  status: 'starting' | 'running' | 'stopped';
  url?: string;
}

// é¢„ç•™æ‰©å±•æ¥å£ - é…ç½®é©±åŠ¨æ¶æ„
export interface AccountConfig {
  proxy?: ProxyConfig;
  userAgent?: string;
  viewport?: ViewportConfig;
  // é¢„ç•™æŒ‡çº¹é…ç½®æ¥å£
  fingerprint?: FingerprintConfig;
  // é¢„ç•™è¡Œä¸ºé…ç½®æ¥å£
  behavior?: BehaviorConfig;
}

export interface ProxyConfig {
  type: 'http' | 'https' | 'socks5';
  host: string;
  port: number;
  username?: string;
  password?: string;
}

export interface ViewportConfig {
  width: number;
  height: number;
  deviceScaleFactor?: number;
}

// é¢„ç•™æ¥å£ - ç­–ç•¥æ¨¡å¼æ‰©å±•ç‚¹
export interface FingerprintConfig {
  canvas?: any;
  webgl?: any;
  audio?: any;
  fonts?: any;
}

export interface BehaviorConfig {
  mouseMovement?: any;
  typingPattern?: any;
  scrollPattern?: any;
}

// IPC é€šä¿¡ç±»å‹
export interface IpcResponse<T = any> {
  success: boolean;
  data?: T;
  error?: string;
}

// çª—å£ç®¡ç†å™¨çŠ¶æ€
export interface WindowManagerState {
  mainWindow?: Electron.BrowserWindow;
  browserInstances: Map<string, Electron.BrowserWindow>;
}

---FILE_SEPARATOR---
// src/shared/constants.ts
/**
 * å…¨å±€å¸¸é‡é…ç½®
 */

export const APP_CONFIG = {
  name: 'é˜²å…³è”æµè§ˆå™¨',
  version: '1.0.0',
  author: 'Browser Manager Team'
} as const;

export const WINDOW_CONFIG = {
  main: {
    width: 1200,
    height: 800,
    minWidth: 800,
    minHeight: 600
  },
  browser: {
    width: 1280,
    height: 720,
    minWidth: 800,
    minHeight: 600
  }
} as const;

export const IPC_CHANNELS = {
  // è´¦å·ç®¡ç†
  CREATE_ACCOUNT: 'create-account',
  DELETE_ACCOUNT: 'delete-account',
  UPDATE_ACCOUNT: 'update-account',
  GET_ACCOUNTS: 'get-accounts',
  
  // æµè§ˆå™¨å®ä¾‹ç®¡ç†
  CREATE_BROWSER_INSTANCE: 'create-browser-instance',
  DESTROY_BROWSER_INSTANCE: 'destroy-browser-instance',
  GET_INSTANCE_STATUS: 'get-instance-status',
  
  // é¢„ç•™æ‰©å±•é€šé“
  INJECT_FINGERPRINT: 'inject-fingerprint',
  UPDATE_PROXY: 'update-proxy',
  EXECUTE_BEHAVIOR: 'execute-behavior'
} as const;

export const DEFAULT_USER_AGENTS = [
  'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36',
  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36',
  'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36'
] as const;

---FILE_SEPARATOR---
// src/preload/index.ts
/**
 * é¢„åŠ è½½è„šæœ¬ - å®‰å…¨çš„IPCæ¡¥æ¥
 */
import { contextBridge, ipcRenderer } from 'electron';
import { IPC_CHANNELS } from '@shared/constants';
import type { BrowserAccount, AccountConfig, IpcResponse } from '@shared/types';

// å®šä¹‰å®‰å…¨çš„APIæ¥å£
const electronAPI = {
  // è´¦å·ç®¡ç†
  createBrowserInstance: (accountId: string, config?: AccountConfig): Promise<IpcResponse> =>
    ipcRenderer.invoke(IPC_CHANNELS.CREATE_BROWSER_INSTANCE, accountId, config),
  
  destroyBrowserInstance: (accountId: string): Promise<IpcResponse> =>
    ipcRenderer.invoke(IPC_CHANNELS.DESTROY_BROWSER_INSTANCE, accountId),
  
  getInstanceStatus: (accountId: string): Promise<IpcResponse<string>> =>
    ipcRenderer.invoke(IPC_CHANNELS.GET_INSTANCE_STATUS, accountId),
  
  // é¢„ç•™æ‰©å±•æ–¹æ³•
  injectFingerprint: (accountId: string, fingerprint: any): Promise<IpcResponse> =>
    ipcRenderer.invoke(IPC_CHANNELS.INJECT_FINGERPRINT, accountId, fingerprint),
  
  updateProxy: (accountId: string, proxy: any): Promise<IpcResponse> =>
    ipcRenderer.invoke(IPC_CHANNELS.UPDATE_PROXY, accountId, proxy),
  
  executeBehavior: (accountId: string, behavior: any): Promise<IpcResponse> =>
    ipcRenderer.invoke(IPC_CHANNELS.EXECUTE_BEHAVIOR, accountId, behavior),
  
  // åº”ç”¨ä¿¡æ¯
  getAppVersion: (): Promise<string> =>
    ipcRenderer.invoke('get-app-version'),
  
  // çª—å£æ§åˆ¶
  minimizeWindow: (): void =>
    ipcRenderer.send('minimize-window'),
  
  maximizeWindow: (): void =>
    ipcRenderer.send('maximize-window'),
  
  closeWindow: (): void =>
    ipcRenderer.send('close-window')
};

// ç±»å‹å®‰å…¨çš„APIæš´éœ²
declare global {
  interface Window {
    electronAPI: typeof electronAPI;
  }
}

// å®‰å…¨æš´éœ²APIåˆ°æ¸²æŸ“è¿›ç¨‹
contextBridge.exposeInMainWorld('electronAPI', electronAPI);

---FILE_SEPARATOR---
// src/main/index.ts
/**
 * ä¸»è¿›ç¨‹å…¥å£ - åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
 */
import { app, BrowserWindow } from 'electron';
import path from 'path';
import { WindowManager } from './window-manager';
import { setupIpcHandlers } from './ipc-handlers';

class App {
  private windowManager: WindowManager;
  private isDev: boolean;

  constructor() {
    this.isDev = process.env.NODE_ENV === 'development';
    this.windowManager = new WindowManager(this.isDev);
    this.init();
  }

  private async init(): Promise<void> {
    // ç­‰å¾…åº”ç”¨å°±ç»ª
    await app.whenReady();
    
    // è®¾ç½®IPCå¤„ç†å™¨
    setupIpcHandlers(this.windowManager);
    
    // åˆ›å»ºä¸»çª—å£
    await this.windowManager.createMainWindow();
    
    // å¼€å‘ç¯å¢ƒä¼˜åŒ–
    if (this.isDev) {
      this.setupDevtools();
    }
    
    this.setupAppEventHandlers();
  }

  private setupDevtools(): void {
    // å®‰è£…å¼€å‘è€…å·¥å…·æ‰©å±•
    app.whenReady().then(() => {
      // å¯ä»¥åœ¨è¿™é‡Œå®‰è£…React DevToolsç­‰æ‰©å±•
    });
  }

  private setupAppEventHandlers(): void {
    // çª—å£å…¨éƒ¨å…³é—­æ—¶é€€å‡ºåº”ç”¨ (macOSé™¤å¤–)
    app.on('window-all-closed', () => {
      if (process.platform !== 'darwin') {
        app.quit();
      }
    });

    // macOSé‡æ–°æ¿€æ´»æ—¶åˆ›å»ºçª—å£
    app.on('activate', async () => {
      if (BrowserWindow.getAllWindows().length === 0) {
        await this.windowManager.createMainWindow();
      }
    });

    // åº”ç”¨å³å°†é€€å‡ºæ—¶æ¸…ç†èµ„æº
    app.on('before-quit', () => {
      this.windowManager.cleanup();
    });

    // å®‰å…¨ç­–ç•¥ï¼šé˜»æ­¢æ–°çª—å£åˆ›å»º
    app.on('web-contents-created', (_, contents) => {
      contents.on('new-window', (event) => {
        event.preventDefault();
      });
    });
  }
}

// å¯åŠ¨åº”ç”¨
new App();

---FILE_SEPARATOR---
// src/main/window-manager.ts
/**
 * çª—å£ç®¡ç†å™¨ - ç­–ç•¥æ¨¡å¼è®¾è®¡ï¼Œé¢„ç•™æ‰©å±•æ¥å£
 */
import { BrowserWindow, screen } from 'electron';
import path from 'path';
import { WINDOW_CONFIG, DEFAULT_USER_AGENTS } from '@shared/constants';
import type { AccountConfig, BrowserInstance, WindowManagerState } from '@shared/types';

export class WindowManager {
  private state: WindowManagerState = {
    browserInstances: new Map()
  };
  
  private isDev: boolean;

  constructor(isDev = false) {
    this.isDev = isDev;
  }

  /**
   * åˆ›å»ºä¸»æ§åˆ¶çª—å£
   */
  async createMainWindow(): Promise<BrowserWindow> {
    const { width, height, minWidth, minHeight } = WINDOW_CONFIG.main;
    
    const mainWindow = new BrowserWindow({
      width,
      height,
      minWidth,
      minHeight,
      webPreferences: {
        nodeIntegration: false,
        contextIsolation: true,
        preload: path.join(__dirname, '../preload/index.js')
      },
      titleBarStyle: 'default',
      show: false // å…ˆéšè—ï¼ŒåŠ è½½å®Œæˆåæ˜¾ç¤º
    });

    // åŠ è½½åº”ç”¨ç•Œé¢
    if (this.isDev) {
      await mainWindow.loadURL('http://localhost:3000');
      mainWindow.webContents.openDevTools();
    } else {
      await mainWindow.loadFile(path.join(__dirname, '../renderer/index.html'));
    }

    // ä¼˜é›…æ˜¾ç¤ºçª—å£
    mainWindow.once('ready-to-show', () => {
      mainWindow.show();
    });

    this.state.mainWindow = mainWindow;
    this.setupMainWindowHandlers(mainWindow);
    
    return mainWindow;
  }

  /**
   * åˆ›å»ºæµè§ˆå™¨å®ä¾‹ - ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œæ”¯æŒé…ç½®æ³¨å…¥
   */
  async createBrowserInstance(accountId: string, config?: AccountConfig): Promise<BrowserInstance> {
    const { width, height } = config?.viewport || WINDOW_CONFIG.browser;
    
    // åº”ç”¨é…ç½®ç­–ç•¥
    const browserConfig = this.buildBrowserConfig(accountId, config);
    
    const browserWindow = new BrowserWindow({
      width,
      height,
      webPreferences: browserConfig.webPreferences,
      show: false
    });

    // åº”ç”¨ç”¨æˆ·ä»£ç†ç­–ç•¥
    if (config?.userAgent) {
      browserWindow.webContents.setUserAgent(config.userAgent);
    } else {
      // éšæœºé€‰æ‹©é»˜è®¤User-Agent
      const randomUA = DEFAULT_USER_AGENTS[Math.floor(Math.random() * DEFAULT_USER_AGENTS.length)];
      browserWindow.webContents.setUserAgent(randomUA);
    }

    // åº”ç”¨ä»£ç†ç­–ç•¥ (é¢„ç•™)
    if (config?.proxy) {
      await this.applyProxyConfig(browserWindow, config.proxy);
    }

    // é¢„ç•™æŒ‡çº¹æ³¨å…¥ç‚¹
    if (config?.fingerprint) {
      await this.injectFingerprint(browserWindow, config.fingerprint);
    }

    // å¯¼èˆªåˆ°èµ·å§‹é¡µé¢
    await browserWindow.loadURL('https://www.google.com');
    
    browserWindow.show();
    this.state.browserInstances.set(accountId, browserWindow);
    this.setupBrowserInstanceHandlers(browserWindow, accountId);

    return {
      accountId,
      windowId: browserWindow.id,
      status: 'running',
      url: browserWindow.webContents.getURL()
    };
  }

  /**
   * æ„å»ºæµè§ˆå™¨é…ç½® - ç­–ç•¥æ¨¡å¼
   */
  private buildBrowserConfig(accountId: string, config?: AccountConfig) {
    return {
      webPreferences: {
        partition: `persist:${accountId}`, // æ•°æ®éš”ç¦»
        preload: path.join(__dirname, '../preload/index.js'),
        nodeIntegration: false,
        contextIsolation: true,
        webSecurity: true,
        // é¢„ç•™æ³¨å…¥ç‚¹
        additionalArguments: this.buildChromiumArgs(config)
      }
    };
  }

  /**
   * æ„å»ºChromiumå¯åŠ¨å‚æ•° - é¢„ç•™æ‰©å±•ç‚¹
   */
  private buildChromiumArgs(config?: AccountConfig): string[] {
    const args: string[] = [];
    
    // åŸºç¡€å‚æ•°
    args.push('--disable-web-security');
    args.push('--disable-features=VizDisplayCompositor');
    
    // é¢„ç•™æŒ‡çº¹å‚æ•°æ³¨å…¥ç‚¹
    if (config?.fingerprint) {
      // åç»­å®ç°æŒ‡çº¹ç›¸å…³å‚æ•°
    }
    
    return args;
  }

  /**
   * åº”ç”¨ä»£ç†é…ç½® - ç­–ç•¥æ¨¡å¼é¢„ç•™
   */
  private async applyProxyConfig(window: BrowserWindow, proxyConfig: any): Promise<void> {
    // é¢„ç•™ä»£ç†é…ç½®å®ç°
    console.log('Applying proxy config:', proxyConfig);
  }

  /**
   * æ³¨å…¥æŒ‡çº¹é…ç½® - ç­–ç•¥æ¨¡å¼é¢„ç•™
   */
  private async injectFingerprint(window: BrowserWindow, fingerprint: any): Promise<void> {
    // é¢„ç•™æŒ‡çº¹æ³¨å…¥å®ç°
    console.log('Injecting fingerprint:', fingerprint);
  }

  /**
   * é”€æ¯æµè§ˆå™¨å®ä¾‹
   */
  destroyInstance(accountId: string): boolean {
    const window = this.state.browserInstances.get(accountId);
    if (window && !window.isDestroyed()) {
      window.close();
      this.state.browserInstances.delete(accountId);
      return true;
    }
    return false;
  }

  /**
   * è·å–å®ä¾‹çŠ¶æ€
   */
  getInstanceStatus(accountId: string): string | undefined {
    const window = this.state.browserInstances.get(accountId);
    if (!window || window.isDestroyed()) {
      return 'stopped';
    }
    return window.isVisible() ? 'running' : 'starting';
  }

  /**
   * è·å–æ‰€æœ‰å®ä¾‹
   */
  getAllInstances(): Map<string, BrowserWindow> {
    return this.state.browserInstances;
  }

  /**
   * è®¾ç½®ä¸»çª—å£äº‹ä»¶å¤„ç†å™¨
   */
  private setupMainWindowHandlers(window: BrowserWindow): void {
    window.on('closed', () => {
      this.state.mainWindow = undefined;
    });

    // é¢„ç•™ä¸»çª—å£ç‰¹æ®Šå¤„ç†
  }

  /**
   * è®¾ç½®æµè§ˆå™¨å®ä¾‹äº‹ä»¶å¤„ç†å™¨
   */
  private setupBrowserInstanceHandlers(window: BrowserWindow, accountId: string): void {
    window.on('closed', () => {
      this.state.browserInstances.delete(accountId);
    });

    // é¢„ç•™å®ä¾‹çŠ¶æ€ç›‘æ§
    window.webContents.on('did-navigate', (event, url) => {
      console.log(`Instance ${accountId} navigated to: ${url}`);
    });
  }

  /**
   * æ¸…ç†èµ„æº
   */
  cleanup(): void {
    // å…³é—­æ‰€æœ‰æµè§ˆå™¨å®ä¾‹
    this.state.browserInstances.forEach((window, accountId) => {
      if (!window.isDestroyed()) {
        window.close();
      }
    });
    this.state.browserInstances.clear();

    // å…³é—­ä¸»çª—å£
    if (this.state.mainWindow && !this.state.mainWindow.isDestroyed()) {
      this.state.mainWindow.close();
    }
  }
}

---FILE_SEPARATOR---
// src/main/ipc-handlers.ts
/**
 * IPCå¤„ç†å™¨ - ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹é€šä¿¡æ¡¥æ¢
 */
import { ipcMain } from 'electron';
import { IPC_CHANNELS, APP_CONFIG } from '@shared/constants';
import type { WindowManager } from './window-manager';
import type { IpcResponse, AccountConfig } from '@shared/types';

export function setupIpcHandlers(windowManager: WindowManager): void {
  // æµè§ˆå™¨å®ä¾‹ç®¡ç†
  ipcMain.handle(
    IPC_CHANNELS.CREATE_BROWSER_INSTANCE,
    async (event, accountId: string, config?: AccountConfig): Promise<IpcResponse> => {
      try {
        const instance = await windowManager.createBrowserInstance(accountId, config);
        return {
          success: true,
          data: instance
        };
      } catch (error) {
        return {
          success: false,
          error: error instanceof Error ? error.message : 'Unknown error'
        };
      }
    }
  );

  ipcMain.handle(
    IPC_CHANNELS.DESTROY_BROWSER_INSTANCE,
    async (event, accountId: string): Promise<IpcResponse> => {
      try {
        const success = windowManager.destroyInstance(accountId);
        return {
          success,
          data: success
        };
      } catch (error) {
        return {
          success: false,
          error: error instanceof Error ? error.message : 'Unknown error'
        };
      }
    }
  );

  ipcMain.handle(
    IPC_CHANNELS.GET_INSTANCE_STATUS,
    async (event, accountId: string): Promise<IpcResponse<string>> => {
      try {
        const status = windowManager.getInstanceStatus(accountId);
        return {
          success: true,
          data: status
        };
      } catch (error) {
        return {
          success: false,
          error: error instanceof Error ? error.message : 'Unknown error'
        };
      }
    }
  );

  // é¢„ç•™æ‰©å±•å¤„ç†å™¨
  ipcMain.handle(
    IPC_CHANNELS.INJECT_FINGERPRINT,
    async (event, accountId: string, fingerprint: any): Promise<IpcResponse> => {
      try {
        // é¢„ç•™æŒ‡çº¹æ³¨å…¥å®ç°
        console.log('Fingerprint injection requested for:', accountId, fingerprint);
        return {
          success: true,
          data: 'Fingerprint injection completed'
        };
      } catch (error) {
        return {
          success: false,
          error: error instanceof Error ? error.message : 'Unknown error'
        };
      }
    }
  );

  ipcMain.handle(
    IPC_CHANNELS.UPDATE_PROXY,
    async (event, accountId: string, proxy: any): Promise<IpcResponse> => {
      try {
        // é¢„ç•™ä»£ç†æ›´æ–°å®ç°
        console.log('Proxy update requested for:', accountId, proxy);
        return {
          success: true,
          data: 'Proxy update completed'
        };
      } catch (error) {
        return {
          success: false,
          error: error instanceof Error ? error.message : 'Unknown error'
        };
      }
    }
  );

  ipcMain.handle(
    IPC_CHANNELS.EXECUTE_BEHAVIOR,
    async (event, accountId: string, behavior: any): Promise<IpcResponse> => {
      try {
        // é¢„ç•™è¡Œä¸ºæ‰§è¡Œå®ç°
        console.log('Behavior execution requested for:', accountId, behavior);
        return {
          success: true,
          data: 'Behavior execution completed'
        };
      } catch (error) {
        return {
          success: false,
          error: error instanceof Error ? error.message : 'Unknown error'
        };
      }
    }
  );

  // åº”ç”¨ä¿¡æ¯
  ipcMain.handle('get-app-version', async (): Promise<string> => {
    return APP_CONFIG.version;
  });

  // çª—å£æ§åˆ¶
  ipcMain.on('minimize-window', (event) => {
    const window = windowManager.getAllInstances().get('main') || 
                   require('electron').BrowserWindow.getFocusedWindow();
    window?.minimize();
  });

  ipcMain.on('maximize-window', (event) => {
    const window = windowManager.getAllInstances().get('main') || 
                   require('electron').BrowserWindow.getFocusedWindow();
    if (window?.isMaximized()) {
      window.restore();
    } else {
      window?.maximize();
    }
  });

  ipcMain.on('close-window', (event) => {
    const window = windowManager.getAllInstances().get('main') || 
                   require('electron').BrowserWindow.getFocusedWindow();
    window?.close();
  });
}

---FILE_SEPARATOR---
// src/renderer/App.tsx
/**
 * ä¸»åº”ç”¨ç»„ä»¶ - Reactå…¥å£
 */
import React from 'react';
import { AccountList } from './components/AccountList';
import { Header } from './components/Header';
import { StatusBar } from './components/StatusBar';
import { useAccountStore } from './stores/accountStore';

export default function App() {
  const { accounts, createAccount, isLoading } = useAccountStore();

  return (
    <div className="h-screen bg-gray-900 text-white flex flex-col">
      <Header />
      
      <main className="flex-1 p-6 overflow-auto">
        <div className="max-w-6xl mx-auto">
          {/* å¿«é€Ÿæ“ä½œåŒº */}
          <div className="mb-6">
            <button 
              onClick={createAccount}
              disabled={isLoading}
              className="px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 
                         rounded-lg font-medium transition-colors duration-200
                         flex items-center space-x-2"
            >
              {isLoading ? (
                <>
                  <div className="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin" />
                  <span>åˆ›å»ºä¸­...</span>
                </>
              ) : (
                <>
                  <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                  </svg>
                  <span>åˆ›å»ºè´¦å·</span>
                </>
              )}
            </button>
          </div>
          
          {/* è´¦å·åˆ—è¡¨åŒº */}
          <div className="bg-gray-800 rounded-xl p-6">
            <div className="flex items-center justify-between mb-4">
              <h2 className="text-xl font-semibold">è´¦å·ç®¡ç†</h2>
              <span className="text-gray-400 text-sm">
                å…± {accounts.length} ä¸ªè´¦å·
              </span>
            </div>
            
            <AccountList accounts={accounts} />
          </div>
        </div>
      </main>
      
      <StatusBar />
    </div>
  );
}

---FILE_SEPARATOR---
// src/renderer/components/Header.tsx
/**
 * åº”ç”¨å¤´éƒ¨ç»„ä»¶
 */
import React from 'react';
import { APP_CONFIG } from '@shared/constants';

export function Header() {
  return (
    <header className="bg-gray-800 border-b border-gray-700 px-6 py-4">
      <div className="flex items-center justify-between">
        <div className="flex items-center space-x-3">
          <div className="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
            <svg className="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} 
                    d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
          </div>
          <div>
            <h1 className="text-xl font-bold">{APP_CONFIG.name}</h1>
            <p className="text-gray-400 text-sm">v{APP_CONFIG.version}</p>
          </div>
        </div>
        
        <div className="flex items-center space-x-2">
          <button
            onClick={() => window.electronAPI?.minimizeWindow()}
            className="p-2 hover:bg-gray-700 rounded-lg transition-colors"
            title="æœ€å°åŒ–"
          >
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20 12H4" />
            </svg>
          </button>
          <button
            onClick={() => window.electronAPI?.maximizeWindow()}
            className="p-2 hover:bg-gray-700 rounded-lg transition-colors"
            title="æœ€å¤§åŒ–"
          >
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} 
                    d="M4 8V4a2 2 0 012-2h12a2 2 0 012 2v4M4 16v4a2 2 0 002 2h12a2 2 0 002-2v-4" />
            </svg>
          </button>
          <button
            onClick={() => window.electronAPI?.closeWindow()}
            className="p-2 hover:bg-red-600 rounded-lg transition-colors"
            title="å…³é—­"
          >
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </div>
    </header>
  );
}

---FILE_SEPARATOR---
// src/renderer/components/AccountList.tsx
/**
 * è´¦å·åˆ—è¡¨ç»„ä»¶ - æ”¯æŒæ‰¹é‡æ“ä½œå’ŒçŠ¶æ€ç®¡ç†
 */
import React from 'react';
import { AccountCard } from './AccountCard';
import type { BrowserAccount } from '@shared/types';

interface AccountListProps {
  accounts: BrowserAccount[];
}

export function AccountList({ accounts }: AccountListProps) {
  if (accounts.length === 0) {
    return (
      <div className="text-center py-12">
        <div className="w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg className="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} 
                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
        </div>
        <h3 className="text-lg font-medium text-gray-300 mb-2">æš‚æ— è´¦å·</h3>
        <p className="text-gray-400">ç‚¹å‡»"åˆ›å»ºè´¦å·"æŒ‰é’®å¼€å§‹ä½¿ç”¨</p>
      </div>
    );
  }

  return (
    <div className="space-y-4">
      {accounts.map((account) => (
        <AccountCard key={account.id} account={account} />
      ))}
    </div>
  );
}

---FILE_SEPARATOR---
// src/renderer/components/AccountCard.tsx
/**
 * è´¦å·å¡ç‰‡ç»„ä»¶ - å•ä¸ªè´¦å·çš„ç®¡ç†ç•Œé¢
 */
import React, { useState } from 'react';
import { useAccountStore } from '../stores/accountStore';
import type { BrowserAccount } from '@shared/types';

interface AccountCardProps {
  account: BrowserAccount;
}

export function AccountCard({ account }: AccountCardProps) {
  const { updateAccount, startInstance, stopInstance, deleteAccount } = useAccountStore();
  const [isLoading, setIsLoading] = useState(false);

  const getStatusColor = (status: BrowserAccount['status']) => {
    switch (status) {
      case 'running':
        return 'bg-green-500';
      case 'error':
        return 'bg-red-500';
      default:
        return 'bg-gray-500';
    }
  };

  const getStatusText = (status: BrowserAccount['status']) => {
    switch (status) {
      case 'running':
        return 'è¿è¡Œä¸­';
      case 'error':
        return 'é”™è¯¯';
      default:
        return 'ç©ºé—²';
    }
  };

  const handleStart = async () => {
    setIsLoading(true);
    try {
      await startInstance(account.id);
    } finally {
      setIsLoading(false);
    }
  };

  const handleStop = async () => {
    setIsLoading(true);
    try {
      await stopInstance(account.id);
    } finally {
      setIsLoading(false);
    }
  };

  const handleDelete = async () => {
    if (window.confirm(`ç¡®å®šè¦åˆ é™¤è´¦å· "${account.name}" å—ï¼Ÿ`)) {
      await deleteAccount(account.id);
    }
  };

  const formatDate = (timestamp: number) => {
    return new Date(timestamp).toLocaleString('zh-CN', {
      year: 'numeric',
      month: '2-digit',
      day: '2-digit',
      hour: '2-digit',
      minute: '2-digit'
    });
  };

  return (
    <div className="bg-gray-700 rounded-lg p-4 hover:bg-gray-650 transition-colors">
      <div className="flex items-center justify-between">
        <div className="flex items-center space-x-3">
          <div className="relative">
            <div className="w-12 h-12 bg-gray-600 rounded-lg flex items-center justify-center">
              <svg className="w-6 h-6 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} 
                      d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
              </svg>
            </div>
            <div className={`absolute -bottom-1 -right-1 w-4 h-4 ${getStatusColor(account.status)} rounded-full border-2 border-gray-700`} />
          </div>
          
          <div>
            <h3 className="font-medium text-white">{account.name}</h3>
            <div className="flex items-center space-x-4 text-sm text-gray-400">
              <span>çŠ¶æ€: {getStatusText(account.status)}</span>
              <span>åˆ›å»º: {formatDate(account.createdAt)}</span>
            </div>
          </div>
        </div>

        <div className="flex items-center space-x-2">
          {account.status === 'running' ? (
            <button
              onClick={handleStop}
              disabled={isLoading}
              className="px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-800 
                         rounded-md text-sm font-medium transition-colors"
            >
              {isLoading ? 'åœæ­¢ä¸­...' : 'åœæ­¢'}
            </button>
          ) : (
            <button
              onClick={handleStart}
              disabled={isLoading}
              className="px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-800 
                         rounded-md text-sm font-medium transition-colors"
            >
              {isLoading ? 'å¯åŠ¨ä¸­...' : 'å¯åŠ¨'}
            </button>
          )}
          
          <button
            onClick={handleDelete}
            className="p-2 text-gray-400 hover:text-red-400 hover:bg-red-900/20 
                       rounded-md transition-colors"
            title="åˆ é™¤è´¦å·"
          >
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} 
                    d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  );
}

---FILE_SEPARATOR---
// src/renderer/components/StatusBar.tsx
/**
 * çŠ¶æ€æ ç»„ä»¶ - æ˜¾ç¤ºåº”ç”¨çŠ¶æ€ä¿¡æ¯
 */
import React, { useEffect, useState } from 'react';
import { useAccountStore } from '../stores/accountStore';

export function StatusBar() {
  const { accounts } = useAccountStore();
  const [appVersion, setAppVersion] = useState('');

  useEffect(() => {
    window.electronAPI?.getAppVersion().then(setAppVersion);
  }, []);

  const runningCount = accounts.filter(account => account.status === 'running').length;
  const totalCount = accounts.length;

  return (
    <footer className="bg-gray-800 border-t border-gray-700 px-6 py-3">
      <div className="flex items-center justify-between text-sm text-gray-400">
        <div className="flex items-center space-x-6">
          <span>è¿è¡Œå®ä¾‹: {runningCount}/{totalCount}</span>
          <span>å†…å­˜å ç”¨: è®¡ç®—ä¸­...</span>
          <span className="flex items-center space-x-1">
            <div className="w-2 h-2 bg-green-500 rounded-full animate-pulse" />
            <span>ç³»ç»Ÿæ­£å¸¸</span>
          </span>
        </div>
        
        <div className="flex items-center space-x-4">
          <span>v{appVersion}</span>
          <span>{new Date().toLocaleTimeString('zh-CN')}</span>
        </div>
      </div>
    </footer>
  );
}

---FILE_SEPARATOR---
// src/renderer/stores/accountStore.ts
/**
 * è´¦å·çŠ¶æ€ç®¡ç† - Zustandè½»é‡çº§çŠ¶æ€ç®¡ç†
 */
import { create } from 'zustand';
import type { BrowserAccount, AccountConfig } from '@shared/types';

interface AccountStore {
  // çŠ¶æ€
  accounts: BrowserAccount[];
  isLoading: boolean;
  error: string | null;
  
  // åŸºç¡€æ“ä½œ
  createAccount: () => Promise<void>;
  updateAccount: (id: string, updates: Partial<BrowserAccount>) => void;
  deleteAccount: (id: string) => Promise<void>;
  
  // å®ä¾‹ç®¡ç†
  startInstance: (accountId: string, config?: AccountConfig) => Promise<void>;
  stopInstance: (accountId: string) => Promise<void>;
  
  // é¢„ç•™æ‰©å±•æ–¹æ³•
  updateFingerprint: (accountId: string, fingerprint: any) => Promise<void>;
  updateProxy: (accountId: string, proxy: any) => Promise<void>;
  executeBehavior: (accountId: string, behavior: any) => Promise<void>;
  
  // å·¥å…·æ–¹æ³•
  clearError: () => void;
  refreshAccounts: () => Promise<void>;
}

export const useAccountStore = create<AccountStore>((set, get) => ({
  // åˆå§‹çŠ¶æ€
  accounts: [],
  isLoading: false,
  error: null,

  // åˆ›å»ºè´¦å·
  createAccount: async () => {
    set({ isLoading: true, error: null });
    
    try {
      const newAccount: BrowserAccount = {
        id: `account_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
        name: `è´¦å· ${get().accounts.length + 1}`,
        status: 'idle',
        createdAt: Date.now()
      };
      
      set(state => ({ 
        accounts: [...state.accounts, newAccount],
        isLoading: false
      }));
      
      // æˆåŠŸæç¤º
      console.log('è´¦å·åˆ›å»ºæˆåŠŸ:', newAccount.name);
      
    } catch (error) {
      set({ 
        error: error instanceof Error ? error.message : 'åˆ›å»ºè´¦å·å¤±è´¥',
        isLoading: false 
      });
    }
  },

  // æ›´æ–°è´¦å·
  updateAccount: (id, updates) => {
    set(state => ({
      accounts: state.accounts.map(account => 
        account.id === id 
          ? { ...account, ...updates, updatedAt: Date.now() }
          : account
      )
    }));
  },

  // åˆ é™¤è´¦å·
  deleteAccount: async (id) => {
    set({ isLoading: true, error: null });
    
    try {
      // å…ˆåœæ­¢å®ä¾‹
      await get().stopInstance(id);
      
      set(state => ({
        accounts: state.accounts.filter(account => account.id !== id),
        isLoading: false
      }));
      
      console.log('è´¦å·åˆ é™¤æˆåŠŸ:', id);
      
    } catch (error) {
      set({ 
        error: error instanceof Error ? error.message : 'åˆ é™¤è´¦å·å¤±è´¥',
        isLoading: false 
      });
    }
  },

  // å¯åŠ¨å®ä¾‹
  startInstance: async (accountId, config) => {
    const { updateAccount } = get();
    
    try {
      updateAccount(accountId, { status: 'idle' });
      
      const response = await window.electronAPI?.createBrowserInstance(accountId, config);
      
      if (response?.success) {
        updateAccount(accountId, { status: 'running' });
        console.log('æµè§ˆå™¨å®ä¾‹å¯åŠ¨æˆåŠŸ:', accountId);
      } else {
        throw new Error(response?.error || 'å¯åŠ¨å¤±è´¥');
      }
      
    } catch (error) {
      updateAccount(accountId, { status: 'error' });
      set({ error: error instanceof Error ? error.message : 'å¯åŠ¨å®ä¾‹å¤±è´¥' });
      throw error;
    }
  },

  // åœæ­¢å®ä¾‹
  stopInstance: async (accountId) => {
    const { updateAccount } = get();
    
    try {
      const response = await window.electronAPI?.destroyBrowserInstance(accountId);
      
      if (response?.success) {
        updateAccount(accountId, { status: 'idle' });
        console.log('æµè§ˆå™¨å®ä¾‹åœæ­¢æˆåŠŸ:', accountId);
      } else {
        throw new Error(response?.error || 'åœæ­¢å¤±è´¥');
      }
      
    } catch (error) {
      set({ error: error instanceof Error ? error.message : 'åœæ­¢å®ä¾‹å¤±è´¥' });
      throw error;
    }
  },

  // é¢„ç•™æ‰©å±•æ–¹æ³•
  updateFingerprint: async (accountId, fingerprint) => {
    try {
      const response = await window.electronAPI?.injectFingerprint(accountId, fingerprint);
      if (!response?.success) {
        throw new Error(response?.error || 'æŒ‡çº¹æ›´æ–°å¤±è´¥');
      }
      console.log('æŒ‡çº¹æ›´æ–°æˆåŠŸ:', accountId);
    } catch (error) {
      set({ error: error instanceof Error ? error.message : 'æŒ‡çº¹æ›´æ–°å¤±è´¥' });
      throw error;
    }
  },

  updateProxy: async (accountId, proxy) => {
    try {
      const response = await window.electronAPI?.updateProxy(accountId, proxy);
      if (!response?.success) {
        throw new Error(response?.error || 'ä»£ç†æ›´æ–°å¤±è´¥');
      }
      console.log('ä»£ç†æ›´æ–°æˆåŠŸ:', accountId);
    } catch (error) {
      set({ error: error instanceof Error ? error.message : 'ä»£ç†æ›´æ–°å¤±è´¥' });
      throw error;
    }
  },

  executeBehavior: async (accountId, behavior) => {
    try {
      const response = await window.electronAPI?.executeBehavior(accountId, behavior);
      if (!response?.success) {
        throw new Error(response?.error || 'è¡Œä¸ºæ‰§è¡Œå¤±è´¥');
      }
      console.log('è¡Œä¸ºæ‰§è¡ŒæˆåŠŸ:', accountId);
    } catch (error) {
      set({ error: error instanceof Error ? error.message : 'è¡Œä¸ºæ‰§è¡Œå¤±è´¥' });
      throw error;
    }
  },

  // å·¥å…·æ–¹æ³•
  clearError: () => {
    set({ error: null });
  },

  refreshAccounts: async () => {
    // é¢„ç•™è´¦å·åˆ·æ–°é€»è¾‘
    console.log('åˆ·æ–°è´¦å·åˆ—è¡¨');
  }
}));

---FILE_SEPARATOR---
// src/renderer/index.html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>é˜²å…³è”æµè§ˆå™¨</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
        sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    /* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
    ::-webkit-scrollbar {
      width: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: #374151;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #6B7280;
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #9CA3AF;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="module" src="/main.tsx"></script>
</body>
</html>

---FILE_SEPARATOR---
// src/renderer/main.tsx
/**
 * Reactåº”ç”¨å…¥å£æ–‡ä»¶
 */
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import './index.css';

// å¼€å‘ç¯å¢ƒé”™è¯¯è¾¹ç•Œ
if (process.env.NODE_ENV === 'development') {
  // å¯ä»¥æ·»åŠ é”™è¯¯æŠ¥å‘Šå·¥å…·
}

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

---FILE_SEPARATOR---
// src/renderer/index.css
/**
 * å…¨å±€æ ·å¼æ–‡ä»¶
 */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* åŸºç¡€æ ·å¼é‡ç½® */
@layer base {
  * {
    box-sizing: border-box;
  }
  
  html, body, #root {
    height: 100%;
    margin: 0;
    padding: 0;
  }
  
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: #111827;
    color: #F9FAFB;
  }
}

/* è‡ªå®šä¹‰ç»„ä»¶æ ·å¼ */
@layer components {
  .btn-primary {
    @apply px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors duration-200;
  }
  
  .btn-secondary {
    @apply px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-medium transition-colors duration-200;
  }
  
  .card {
    @apply bg-gray-800 rounded-xl p-6 shadow-lg;
  }
}

/* å·¥å…·æ ·å¼ */
@layer utilities {
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #6B7280 #374151;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: #374151;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #6B7280;
    border-radius: 4px;
  }
}

---FILE_SEPARATOR---
// README.md
# Electronå¤šæµè§ˆå™¨ç®¡ç†åº”ç”¨

ä¸€ä¸ªåŸºäºElectron + React + TypeScriptçš„æç®€å¤šæµè§ˆå™¨å®ä¾‹ç®¡ç†åº”ç”¨ï¼Œæ”¯æŒè´¦å·éš”ç¦»å’Œæ‰©å±•é…ç½®ã€‚

## âœ¨ ç‰¹æ€§

- ğŸš€ **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: Electron 27+ + React 18 + TypeScript + Vite
- ğŸ¨ **ç¾è§‚ç•Œé¢**: Tailwind CSS + æ·±è‰²ä¸»é¢˜
- ğŸ“¦ **è½»é‡çŠ¶æ€ç®¡ç†**: Zustand
- ğŸ”’ **æ•°æ®éš”ç¦»**: æ¯ä¸ªè´¦å·ç‹¬ç«‹çš„æµè§ˆå™¨ä¼šè¯
- ğŸ”§ **æ˜“äºæ‰©å±•**: ç­–ç•¥æ¨¡å¼è®¾è®¡ï¼Œé¢„ç•™æŒ‡çº¹ä¼ªè£…ç­‰æ‰©å±•æ¥å£
- âš¡ **å¿«é€Ÿå¼€å‘**: çƒ­æ›´æ–° + TypeScriptä¸¥æ ¼æ¨¡å¼

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ main/                 # ä¸»è¿›ç¨‹
â”‚   â”œâ”€â”€ index.ts         # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ window-manager.ts # çª—å£ç®¡ç†å™¨
â”‚   â””â”€â”€ ipc-handlers.ts  # IPCå¤„ç†å™¨
â”œâ”€â”€ renderer/            # æ¸²æŸ“è¿›ç¨‹
â”‚   â”œâ”€â”€ App.tsx         # ä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ components/     # UIç»„ä»¶
â”‚   â””â”€â”€ stores/         # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ shared/             # å…±äº«ä»£ç 
â”‚   â”œâ”€â”€ types.ts       # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ constants.ts   # å¸¸é‡é…ç½®
â””â”€â”€ preload/           # é¢„åŠ è½½è„šæœ¬
    â””â”€â”€ index.ts
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¼€å‘æ¨¡å¼
```bash
npm run dev
```

### æ„å»ºåº”ç”¨
```bash
npm run build
```

### æ‰“åŒ…åº”ç”¨
```bash
# å…¨å¹³å°
npm run package

# Windows
npm run package:win

# macOS  
npm run package:mac

# Linux
npm run package:linux
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. è´¦å·ç®¡ç†
- âœ… åˆ›å»º/åˆ é™¤è´¦å·
- âœ… è´¦å·çŠ¶æ€ç®¡ç† (ç©ºé—²/è¿è¡Œä¸­/é”™è¯¯)
- âœ… è´¦å·åˆ—è¡¨å±•ç¤º

### 2. æµè§ˆå™¨å®ä¾‹ç®¡ç†  
- âœ… ç‹¬ç«‹æµè§ˆå™¨çª—å£åˆ›å»º
- âœ… æ•°æ®éš”ç¦» (ä½¿ç”¨partition)
- âœ… å®ä¾‹å¯åŠ¨/åœæ­¢æ§åˆ¶

### 3. æ‰©å±•æ¥å£ (é¢„ç•™)
- ğŸ”„ æŒ‡çº¹ä¼ªè£…é…ç½®
- ğŸ”„ ä»£ç†é…ç½®
- ğŸ”„ è‡ªåŠ¨åŒ–è¡Œä¸ºè„šæœ¬
- ğŸ”„ AIé›†æˆæ¥å£

## ğŸ”§ é…ç½®è¯´æ˜

### ç±»å‹å®šä¹‰
æ‰€æœ‰æ ¸å¿ƒç±»å‹å®šä¹‰åœ¨ `src/shared/types.ts`ï¼ŒåŒ…å«ï¼š
- `BrowserAccount`: è´¦å·åŸºç¡€ä¿¡æ¯
- `AccountConfig`: è´¦å·é…ç½®é€‰é¡¹ 
- `FingerprintConfig`: æŒ‡çº¹é…ç½® (é¢„ç•™)
- `BehaviorConfig`: è¡Œä¸ºé…ç½® (é¢„ç•™)

### å¸¸é‡é…ç½®
åº”ç”¨é…ç½®åœ¨ `src/shared/constants.ts`ï¼ŒåŒ…å«ï¼š
- çª—å£å°ºå¯¸é…ç½®
- IPCé€šä¿¡é¢‘é“
- é»˜è®¤User-Agentåˆ—è¡¨

## ğŸ›ï¸ æ¶æ„è®¾è®¡

### ç­–ç•¥æ¨¡å¼
- çª—å£ç®¡ç†å™¨ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œæ”¯æŒä¸åŒçš„æµè§ˆå™¨é…ç½®ç­–ç•¥
- é¢„ç•™æŒ‡çº¹æ³¨å…¥ã€ä»£ç†é…ç½®ç­‰æ‰©å±•ç‚¹

### çŠ¶æ€ç®¡ç†
- ä½¿ç”¨Zustandè¿›è¡Œè½»é‡çº§çŠ¶æ€ç®¡ç†
- é›†ä¸­ç®¡ç†è´¦å·çŠ¶æ€å’Œå®ä¾‹æ§åˆ¶é€»è¾‘

### IPCé€šä¿¡
- å®‰å…¨çš„ä¸»è¿›ç¨‹-æ¸²æŸ“è¿›ç¨‹é€šä¿¡
- ç±»å‹å®‰å…¨çš„APIè®¾è®¡

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- Context Isolationå¯ç”¨
- Node Integrationç¦ç”¨  
- å®‰å…¨çš„preloadè„šæœ¬
- æ•°æ®éš”ç¦» (partition)

## ğŸ“ˆ æ‰©å±•è®¡åˆ’

### Phase 1 (å½“å‰)
- âœ… åŸºç¡€æ¶æ„æ­å»º
- âœ… è´¦å·ç®¡ç†ç•Œé¢
- âœ… æµè§ˆå™¨å®ä¾‹åˆ›å»º

### Phase 2 (ä¸‹ä¸€æ­¥)
- ğŸ”„ æŒ‡çº¹ä¼ªè£…é…ç½®ç•Œé¢
- ğŸ”„ ä»£ç†é…ç½®åŠŸèƒ½
- ğŸ”„ ç”¨æˆ·è¡Œä¸ºå½•åˆ¶/å›æ”¾

### Phase 3 (æœªæ¥)
- ğŸ”„ AIè‡ªåŠ¨åŒ–é›†æˆ
- ğŸ”„ æ‰¹é‡æ“ä½œåŠŸèƒ½
- ğŸ”„ æ•°æ®å¯¼å…¥/å¯¼å‡º

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ `shared/types.ts` ä¸­å®šä¹‰ç›¸å…³ç±»å‹
2. åœ¨ `main/` ä¸­å®ç°ä¸»è¿›ç¨‹é€»è¾‘
3. åœ¨ `renderer/` ä¸­å®ç°UIç»„ä»¶
4. é€šè¿‡IPCè¿›è¡Œé€šä¿¡

### æ‰©å±•é…ç½®
1. ä¿®æ”¹ `AccountConfig` æ¥å£
2. åœ¨ `WindowManager` ä¸­å®ç°é…ç½®åº”ç”¨é€»è¾‘
3. åœ¨UIä¸­æ·»åŠ ç›¸åº”çš„é…ç½®é€‰é¡¹

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

---

**éªŒæ”¶æ ‡å‡†**:
- âœ… `npm run dev` å¯åŠ¨å¼€å‘ç¯å¢ƒ
- âœ… æ˜¾ç¤ºä¸»ç•Œé¢ï¼Œæœ‰"åˆ›å»ºè´¦å·"æŒ‰é’®  
- âœ… ç‚¹å‡»æŒ‰é’®èƒ½å¼¹å‡ºåŸºç¡€çš„æµè§ˆå™¨çª—å£
- âœ… ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£å’Œä¿®æ”¹